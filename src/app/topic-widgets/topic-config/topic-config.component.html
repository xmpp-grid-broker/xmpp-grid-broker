<form *ngIf="formGroup"
      xgbForm
      [formGroup]="formGroup"
      (ngSubmit)="onFormSubmit()">

  <!--TODO: RENDER NODE ID (IF GIVEN) - DISABLED AND NOT PART OF THE FORM-->

  <xgb-form-field fieldId="title"
                  fieldLabel="Topic / Collection title"
                  fieldHelp="A short name for the node / collection">
    <input type="text"
           xgbFormInput
           formControlName="pubsub#title"
           id="title"
           placeholder="Enter Topic / Collection"
           [hasError]="!formGroup.get('pubsub#title').untouched && !formGroup.get('pubsub#title').valid"
    >
  </xgb-form-field>

  <!--TODO: FIX THIS! (not supported by openfire (?!)-->
  <!--<xgb-collapsible-->
    <!--[isVisible]="true"-->
    <!--[title]="(isNewCollection ? 'Contained Topics': 'Parent Collections')">-->
    <!--<xgb-topic-chooser-->
    <!--[formControlName]="isNewCollection ? 'pubsub#children' : 'pubsub#collection'">-->
    <!--</xgb-topic-chooser>-->
  <!--</xgb-collapsible>-->

  <xgb-collapsible
    title="Advanced">
    <xgb-generic-form-config
      [xmppDataForm]="advancedConfigForm"
      [formGroup]="formGroup">
    </xgb-generic-form-config>
  </xgb-collapsible>

  <button type="submit"
          [disabled]="!formGroup.valid"
          xgbActionButton
          primary>
    <!--TODO: FIX LABEL--> DO IT
  </button>
</form>
